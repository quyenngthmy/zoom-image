/*! Name: WEB-Wipix ; Version-Deployment : v1.0; Version-Test: v1.0 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Wipix",[],t):"object"==typeof exports?exports.Wipix=t():e.Wipix=t()}(self,(()=>(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Zoom:()=>o,default:()=>n});var o=function(e,t){var o=t.zIndex,n=t.animationTime,i=t.cursor,a=t.overlay,r=t.onOpen,c=void 0===r?function(){}:r,d=t.onClose,s=void 0===d?function(){}:d,l=this;this._eventHandle=function(){window.addEventListener("click",l._handleClick)},this._cursorType=function(e){var t=void 0===e?{in:"zoom-in",out:"zoom-out"}:e,o=t.in,n=t.out;l._cursorIn="cursor: ".concat(o),l._cursorOut="cursor: ".concat(n,";")},this._handleClick=function(e){var t=e.target,o=t.getAttribute(l._dataAttr);if("false"===o){var n=t.getAttribute("data-zoom-big");n?l._loadImage(t,n).then((function(){l._imageZoom=t,l._zoomInit(),document.body.classList.remove("zoom-loading")})):(l._imageZoom=t,l._zoomInit())}else"true"!==o&&t.id!==l._overlayId||l._handleEvent()},this._handleEvent=function(){var e=document.querySelector("[".concat(l._dataAttr,'="true"]'));e&&(l._reset(),setTimeout((function(){e.setAttribute(l._dataAttr,"false")}),l._animTime),l._onClose(l._imageZoom),function(e){e.classList.remove("zoom-overlay-in"),e.removeAttribute("style")}(l._overlayLayer))},this._loadImage=function(e,t){return new Promise((function(o,n){var i=new Image;i.onload=function(){o("image loaded")},i.onerror=function(){n("image ".concat(t," not loaded"))},document.body.classList.add("zoom-loading"),i.src=t,e.src=i.src,e.removeAttribute("data-zoom-big")}))},this._createStyleAndAddToHead=function(){var e="#zoom-overlay{position:fixed;pointer-events:none;width:100%;height:100%;top:0;justify-content:center;align-items:center;z-index:".concat(l._zIndex,";margin:auto;-webkit-transition:background ").concat(l._animTime,"ms ease-in-out;transition:background ").concat(l._animTime,"ms ease-in-out;").concat(l._cursorOut,"}"),t=".".concat(l._element,"{").concat(l._cursorIn,'};@-webkit-keyframes zooom-fade{0%{opacity:0}}@keyframes zooom-fade{0%{opacity:0}}[data-zoomed="true"]{').concat(l._cursorOut,"z-index:").concat(l._zIndex+9,";transition:transform ").concat(l._animTime,"ms ease-in-out;}");document.head.insertAdjacentHTML("beforeend","<style>".concat(t).concat(e,"</style>"))},this._zoomInit=function(){l._imageZoom.setAttribute(l._dataAttr,"true"),l._cloneImg(l._imageZoom),function(e,t){e.className="zoom-overlay-in",e.style.pointerEvents="auto",e.style.background=String(t)}(l._overlayLayer,l._overlay),l._onOpen(l._imageZoom)},this._cloneImg=function(e){var t=e.currentSrc||e.src,o=e.getBoundingClientRect(),n=o.width,i=o.height,a=o.top,r=document.documentElement,c=r.clientWidth,d=r.clientHeight,s=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,m=i/n,u=e.naturalWidth;u>=c&&(u=c);var y=u*m;y>=d&&(u=u*d/y);var _=l._clonedImg;_.src=t,_.width=n,_.height=i,_.style.top="".concat(a+s,"px"),_.style.top="0",_.style.left="0",_.style.width="100%",_.style.height="100%",_.style.objectFit="contain",_.style.padding="40px",l._overlayLayer.appendChild(_),_.offsetWidth,_.setAttribute("data-zoomed","true"),_.style.position="absolute",l._overlayLayer.style.background="rgba(0,0,0,0.8)",l._imageZoom.style.setProperty("display","none"),_.addEventListener("click",l._reset)},this._reset=function(){l._clonedImg.style.removeProperty("transform"),l._overlayLayer.style.background="rgba(255,255,255,0)",setTimeout((function(){var e;null===(e=l._clonedImg.parentNode)||void 0===e||e.removeChild(l._clonedImg),l._imageZoom.style.removeProperty("display")}),l._animTime)},this._element=e,this._animTime=n||300,this._zIndex=o||1,this._dataAttr="data-zoomed",this._overlayId="zoom-overlay",this._overlayLayer=document.createElement("div"),this._clonedImg=document.createElement("img"),this._onOpen=c,this._onClose=s,this._overlay=a,this._cursorType(i),this._overlayLayer.id=this._overlayId,document.body.appendChild(this._overlayLayer),[].slice.call(document.querySelectorAll(".".concat(e))).map((function(e){e.setAttribute("data-zoomed","false")})),this._eventHandle(),this._createStyleAndAddToHead()};"undefined"!=typeof window&&(window.Zoom=o);const n=o;return t})()));